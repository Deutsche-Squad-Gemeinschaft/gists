#!/bin/bash
# Define basic colors
RED='\033[0;31m'
GREEN='\033[0;32m'
NC='\033[0m'

# Define the OWI provided maps from MapRotation.cfg
OfficalMaps=(
    "Al Basrah AAS v1"
    "Al Basrah AAS v2"
    "Al Basrah Insurgency v1"
    "Al Basrah Invasion v1"
    "Al Basrah Invasion v2"
    "Al Basrah RAAS v1"
    "Al Basrah Skirmish v1"
    "Al Basrah Skirmish v2"
    "Al Basrah TA v1"
    "Al Basrah TC v1"
    "Al Basrah TC v2"
    "Belaya AAS v1"
    "Belaya AAS v2"
    "Belaya Invasion v1"
    "Belaya Invasion v2"
    "Belaya Invasion v3"
    "Belaya RAAS v1"
    "Belaya RAAS v2"
    "Belaya RAAS v3"
    "Belaya Skirmish v1"
    "Belaya TC v1"
    "Chora AAS v1"
    "Chora AAS v2"
    "Chora Insurgency v1"
    "Chora Invasion v1"
    "Chora Invasion v2"
    "Chora RAAS v1"
    "Chora RAAS v2"
    "Chora Skirmish v1"
    "Chora TC v1"
    "Fallujah AAS v1"
    "Fallujah AAS v2"
    "Fallujah Insurgency v1"
    "Fallujah Invasion v1"
    "Fallujah Invasion v2"
    "Fallujah Invasion v3"
    "Fallujah RAAS v1"
    "Fallujah RAAS v2"
    "Fallujah RAAS v3"
    "Fallujah Skirmish v1"
    "Fallujah Skirmish v2"
    "Fallujah TC v1"
    "Fallujah TC v2"
    "Fool's Road AAS v1"
    "Fool's Road AAS v2"
    "Fool's Road Destruction v1"
    "Fool's Road Invasion v1"
    "Fool's Road RAAS v1"
    "Fool's Road RAAS v2"
    "Fool's Road RAAS v3"
    "Fool's Road Skirmish v1"
    "Fool's Road Skirmish v2"
    "Fool's Road TC v1"
    "Gorodok AAS v1"
    "Gorodok AAS v2"
    "Gorodok Destruction v1"
    "Gorodok Insurgency v1"
    "Gorodok Invasion v1"
    "Gorodok Invasion v2"
    "Gorodok RAAS v1"
    "Gorodok RAAS v2"
    "Gorodok RAAS v3"
    "Gorodok RAAS v4"
    "Gorodok RAAS v5"
    "Gorodok Skirmish v1"
    "Gorodok TC v1"
    "Jensen's Range v1"
    "Jensen's Range v2"
    "Jensen's Range v3"
    "Kamdesh AAS v1"
    "Kamdesh Insurgency v1"
    "Kamdesh Insurgency v2"
    "Kamdesh Invasion v1"
    "Kamdesh Invasion v2"
    "Kamdesh Invasion v3"
    "Kamdesh RAAS v1"
    "Kamdesh RAAS v2"
    "Kamdesh RAAS v3"
    "Kamdesh RAAS v4"
    "Kamdesh Skirmish v1"
    "Kamdesh TC v1"
    "Kamdesh TC v2"
    "Kohat AAS v1"
    "Kohat AAS v2"
    "Kohat Insurgency v1"
    "Kohat Invasion v1"
    "Kohat Invasion v2"
    "Kohat RAAS v1"
    "Kohat RAAS v2"
    "Kohat RAAS v3"
    "Kohat RAAS v4"
    "Kohat Skirmish v1"
    "Kohat TC v1"
    "Kokan AAS v1"
    "Kokan Insurgency v1"
    "Kokan Invasion v1"
    "Kokan RAAS v1"
    "Kokan RAAS v2"
    "Kokan Skirmish v1"
    "Kokan TC v1"
    "Lashkar Valley AAS v1"
    "Lashkar Valley AAS v2"
    "Lashkar Valley Insurgency v1"
    "Lashkar Valley Invasion v1"
    "Lashkar Valley RAAS v1"
    "Lashkar Valley Skirmish v1"
    "Lashkar Valley TC v1"
    "Lashkar Valley TC v2"
    "Logar Valley AAS v1"
    "Logar Valley AAS v2"
    "Logar Valley Insurgency v1"
    "Logar Valley RAAS v1"
    "Logar Valley Skirmish v1"
    "Logar Valley TC v1"
    "Mestia AAS v1"
    "Mestia Invasion v1"
    "Mestia Invasion v2"
    "Mestia RAAS v1"
    "Mestia Skirmish v1"
    "Mestia TC v1"
    "Mutaha AAS v1"
    "Mutaha Invasion v1"
    "Mutaha RAAS v1"
    "Mutaha Skirmish v1"
    "Mutaha TC v1"
    "Mutaha TC v2"
    "Narva AAS v1"
    "Narva AAS v2"
    "Narva AAS v3"
    "Narva Destruction v1"
    "Narva Invasion v1"
    "Narva Invasion v2"
    "Narva RAAS v1"
    "Narva Skirmish v1"
    "Narva TA v1"
    "Narva TC v1"
    "Narva TC v2"
    "Skorpo AAS v1"
    "Skorpo Invasion v1"
    "Skorpo Invasion v2"
    "Skorpo RAAS v1"
    "Skorpo RAAS v2"
    "Skorpo RAAS v3"
    "Skorpo RAAS v4"
    "Skorpo Skirmish v1"
    "Skorpo TC v1"
    "Skorpo TC v2"
    "Skorpo TC v3"
    "Sumari AAS v1"
    "Sumari Insurgency v1"
    "Sumari Invasion v1"
    "Sumari RAAS v1"
    "Sumari RAAS v2"
    "Sumari Skirmish v1"
    "Sumari TC v1"
    "Tallil Outskirts AAS v1"
    "Tallil Outskirts AAS v2"
    "Tallil Outskirts Invasion v1"
    "Tallil Outskirts Invasion v2"
    "Tallil Outskirts Invasion v3"
    "Tallil Outskirts RAAS v1"
    "Tallil Outskirts RAAS v2"
    "Tallil Outskirts RAAS v3"
    "Tallil Outskirts RAAS v4"
    "Tallil Outskirts Skirmish v1"
    "Tallil Outskirts Skirmish v2"
    "Tallil Outskirts Skirmish v3"
    "Tallil Outskirts Tanks v1"
    "Tallil Outskirts Tanks v2"
    "Tallil Outskirts TA v1"
    "Tallil Outskirts TC v1"
    "Yehorivka AAS v1"
    "Yehorivka AAS v2"
    "Yehorivka Destruction v1"
    "Yehorivka Invasion v1"
    "Yehorivka Invasion v2"
    "Yehorivka RAAS v1"
    "Yehorivka RAAS v2"
    "Yehorivka RAAS v3"
    "Yehorivka RAAS v4"
    "Yehorivka RAAS v5"
    "Yehorivka Skirmish v1"
    "Yehorivka Skirmish v2"
    "Yehorivka Skirmish v3"
    "Yehorivka TA v1"
    "Yehorivka TC v1"
    "Yehorivka TC v2"
    "CAF_Al_Basrah_Invasion_v1"
    "CAF_Al_Basrah_Invasion_v2"
    "CAF_Belaya_AAS_v1"
    "CAF_Belaya_RAAS_v1"
    "CAF_Belaya_RAAS_v2"
    "CAF_Chora_AAS_v1"
    "CAF_Chora_RAAS_v1"
    "CAF_Fallujah_Invasion_v1"
    "CAF_Fallujah_RAAS_v1"
    "CAF_Fools_Road_RAAS_v1"
    "CAF_Gorodok_AAS_v1"
    "CAF_Gorodok_Invasion_v1"
    "CAF_Gorodok_RAAS_v1"
    "CAF_Gorodok_RAAS_v2"
    "CAF_Gorodok_TC_v1"
    "CAF_Jensens_Range_v4"
    "CAF_Kamdesh_Invasion_v1"
    "CAF_Kamdesh_RAAS_v1"
    "CAF_Kamdesh_TC_v1"
    "CAF_Kohat_Invasion_v1"
    "CAF_Kokan_RAAS_v1"
    "CAF_Lashkar_Valley_Invasion_v1"
    "CAF_Lashkar_Valley_RAAS_v1"
    "CAF_Lashkar_Valley_TC_v1"
    "CAF_Logar_Valley_RAAS_v1"
    "CAF_Manic-5_AAS_v1"
    "CAF_Manic-5_AAS_v2"
    "CAF_Manic-5_Invasion_v1"
    "CAF_Manic-5_Invasion_v2"
    "CAF_Manic-5_RAAS_v1"
    "CAF_Manic-5_RAAS_v2"
    "CAF_Manic-5_RAAS_v3"
    "CAF_Manic-5_RAAS_v4"
    "CAF_Manic-5_Skirmish_v1"
    "CAF_Manic-5_Skirmish_v2"
    "CAF_Manic-5_TC_v1"
    "CAF_Mestia_RAAS_v1"
    "CAF_Mutaha_AAS_v1"
    "CAF_Mutaha_RAAS_v1"
    "CAF_Mutaha_RAAS_v2"
    "CAF_Nanisivik_AAS_v1"
    "CAF_Nanisivik_Invasion_v1"
    "CAF_Nanisivik_RAAS_v1"
    "CAF_Narva_RAAS_v1"
    "CAF_Skorpo_RAAS_v1"
    "CAF_Sumari_AAS_v1"
    "CAF_Tallil_Outskirts_RAAS_v1"
    "CAF_Tallil_Outskirts_RAAS_v2"
    "CAF_Yehorivka_Invasion_v1"
    "CAF_Yehorivka_RAAS_v1"
    "CAF_Yehorivka_TC_V1"
)

CustomMaps=${CustomMaps:=''}

hasOfficalMap() {
    for element in "${OfficalMaps[@]}"; do       
        if [[ $element == "$1" ]]; then
            return 0
        fi
    done

    return 1
}

hasCustomMap() {
    for element in "${CustomMaps[@]}"; do       
        if [[ $element == "$1" ]]; then
            return 0
        fi
    done

    return 1
}


while IFS= read -r line; do
    if ! hasOfficalMap "$line" && ! hasCustomMap "$line"; then
        echo -e "${RED}MapRotation is invalid! Map \"$line\" is not recognized.${NC}"
        exit 1
    fi
done < "$1"

echo -e "${GREEN}MapRotation is valid!${NC}"
